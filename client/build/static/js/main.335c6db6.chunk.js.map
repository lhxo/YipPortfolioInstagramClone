{"version":3,"sources":["components/navbar.js","components/screens/home.js","components/screens/login.js","components/screens/profile.js","components/screens/signup.js","components/screens/createpost.js","reducers/userReducer.js","components/screens/UserProfile.js","components/screens/subscribedUserPosts.js","components/screens/explore.js","App.js","reportWebVitals.js","index.js"],"names":["NavBar","useContext","UserContext","state","dispatch","history","useHistory","className","to","id","onClick","localStorage","clear","type","push","Home","useState","data","setData","useEffect","fetch","headers","getItem","then","res","json","result","posts","map","item","postedBy","_id","name","style","float","postId","method","console","log","newData","filter","src","photo","likes","includes","color","body","JSON","stringify","catch","err","length","title","comments","record","fontWeight","text","deleteComment","onSubmit","e","preventDefault","target","value","placeholder","Login","password","setPassword","email","setEmail","onChange","test","error","M","toast","html","classes","setItem","token","user","payload","Profile","myThumbnails","setThumbnails","image","setImage","setUrl","mypost","FormData","append","url","pic","file","files","followers","following","alt","Signup","setName","undefined","uploadFields","message","PostData","uploadProfilePic","CreatePost","setTitle","setBody","img","postDetails","reducer","action","userProfile","setProfile","userid","useParams","margin","unfollowId","prevState","newFollower","followId","createContext","Routing","parse","exact","path","UserProfile","App","useReducer","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.335c6db6.chunk.js","sourcesContent":["import React,{useContext} from 'react'\r\nimport {Link,useHistory} from 'react-router-dom'\r\nimport {UserContext} from '../App'\r\n\r\nconst NavBar = ()=>{\r\n        const {state,dispatch} = useContext(UserContext)\r\n        const history = useHistory()\r\n        const renderList = ()=>{\r\n                if(state){\r\n                    return [\r\n                        <li><Link to=\"/explore\">Explore</Link></li>,\r\n                        <li><Link to=\"/feed\">My Feed</Link></li>,\r\n                        <li><Link to={\"/profile/\"}>Profile</Link></li>,\r\n                        <li><Link to=\"/createpost\">Create Post</Link></li>,\r\n                        <li>\r\n                            <button className=\"btn wa #c62828 red darken-3\"\r\n                            onClick={()=>{\r\n                                localStorage.clear()\r\n                                dispatch({type:\"CLEAR\"})\r\n                                history.push('/login')\r\n                            }}\r\n                            >Logout\r\n                            </button>\r\n                        </li>\r\n                    ]\r\n                }else{\r\n                    return [\r\n                        <li><Link to=\"/login\">Login</Link></li>,\r\n                        <li><Link to=\"/signup\">Sign Up</Link></li>,\r\n                    ]\r\n                }\r\n}\r\n\r\n    return (\r\n        <nav>\r\n            <div className=\"nav-wrapper white\">\r\n            <Link to={state?\"/\":\"login\"} className=\"brand-logo left \">Instagram</Link>\r\n            <ul id=\"nav-mobile\" className=\"right\">\r\n                {renderList()}\r\n            </ul>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default NavBar","import React, {useState,useEffect,useContext} from 'react'\r\nimport {UserContext} from '../../App'\r\nimport {Link} from 'react-router-dom'\r\n\r\nconst Home = ()=>{\r\n    const[data,setData] = useState([])\r\n    const {state,dispatch} = useContext(UserContext)\r\n    useEffect(()=>{\r\n        fetch('/allpost',{\r\n            headers:{\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            setData(result.posts)\r\n        })\r\n    },[])\r\n\r\n    const likePost = (id)=>{\r\n        fetch('/like',{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                postId:id\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            //console.log(result)\r\n            const newData = data.map(item=>{\r\n                if(item._id==result._id){\r\n                    return result\r\n                } else {\r\n                    return item\r\n                }\r\n            })\r\n            setData(newData)\r\n        }).catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    const unlikePost = (id)=>{\r\n        fetch('/unlike',{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                postId:id\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            // console.log(result)\r\n            const newData = data.map(item=>{\r\n                if(item._id==result._id){\r\n                    return result\r\n                } else {\r\n                    return item\r\n                }\r\n            })\r\n            setData(newData)\r\n        }).catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\nconst makeComment = (text,postId)=>{\r\n    fetch('/comment',{\r\n        method:\"put\",\r\n        headers:{\r\n            \"Content-Type\":\"application/json\",\r\n            \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n        },\r\n        body:JSON.stringify({\r\n            postId,\r\n            text\r\n        })\r\n    }).then(res=>res.json())\r\n    .then(result=>{\r\n        console.log(result)\r\n        const newData = data.map(item=>{\r\n            if(item._id==result._id){\r\n                return result\r\n            } else {\r\n                return item\r\n            }\r\n        })\r\n        setData(newData)\r\n    }).catch(err=>{\r\n        console.log(err)\r\n    })\r\n}\r\n\r\nconst deletePost = (postId)=>{\r\n    fetch(`/deletepost/${postId}`,{\r\n        method:\"delete\",\r\n        headers:{\r\n            \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n        }\r\n    }).then(res=>res.json())\r\n    .then(result=>{\r\n        console.log(result)\r\n        const newData = data.filter(item=>{\r\n            return item._id !== result._id\r\n        })\r\n        setData(newData)\r\n    })\r\n}\r\n\r\nconst deleteComment = (item, record)=>{\r\n    console.log(item.comments)\r\n    console.log(record)\r\n    // fetch('/deleteComment',{\r\n    //     method:\"put\",\r\n    //     headers:{\r\n    //         \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n    //     }\r\n    // }).then(res=>res.json(item,record))\r\n    // .then(result=>{\r\n    //     console.log(result)\r\n    //     const newData = data.filter(item=>{\r\n    //         return item._id !== result._id\r\n    //     })\r\n    //     setData(newData)\r\n    // })\r\n}\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"home\">\r\n                {\r\n                    data.map(item=>{\r\n                            return(\r\n                                <div className=\"card home-card\" key={item._id}>\r\n                                    <h5>{\"Hi \"} <Link to={item.postedBy._id !== state._id?\"/profile/\"+item.postedBy._id :\"/profile/\"+state._id}>{item.postedBy.name}</Link>\r\n                                    {item.postedBy._id == state._id \r\n                            && <i className=\"material-icons\" style={{\r\n                                float:\"right\"\r\n                            }}  \r\n                                    onClick={()=>deletePost(item._id)}\r\n                                    >delete</i>}\r\n                                    </h5>\r\n\r\n                                    <div className=\"card-image\">\r\n                                        <img src={item.photo}/>\r\n                                    </div>\r\n                                    <div className=\"card-content\">\r\n                                        {item.likes.includes(state._id)\r\n                                        ?\r\n                                            <i className=\"material-icons\" style={{color:\"red\"}} \r\n                                            onClick={()=>{unlikePost(item._id)}}\r\n                                            >favorite</i>\r\n                                        :\r\n                                            <i className=\"material-icons\" style={{color:\"black\"}}\r\n                                            onClick={()=>{likePost(item._id)}}\r\n                                            >favorite_border</i>\r\n                                        }\r\n                                        <h6>{item.likes.length} likes</h6>\r\n                                        <h6>{item.title}</h6>\r\n                                        <p>{item.body}</p>\r\n                                        {   //This is where the comment section goes\r\n                                            item.comments.map(record=>{\r\n                                                return(\r\n                                                    <h6 key={record._id}><span style={{fontWeight:\"500\"}}>{record.postedBy.name}</span> {record.text}\r\n                                                    {item.postedBy._id == record._id} <i className=\"material-icons\" style={{\r\n                                                    float:\"right\"\r\n                                                    }}\r\n                                                    onClick={()=>deleteComment(item, record)}\r\n                                                    >delete_forever</i>}</h6>\r\n                                                                )\r\n                                                            })\r\n                                        }\r\n                                        <form onSubmit={(e)=>{\r\n                                            e.preventDefault()\r\n                                            makeComment(e.target[0].value,item._id)\r\n                                        }}>\r\n                                            <input type=\"text\" placeholder=\"add a comment\"/>\r\n                                        </form>\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                    })\r\n                }\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home","import React, {useState,useContext} from 'react'\r\nimport {Link, useHistory} from 'react-router-dom'\r\nimport {UserContext, userContext} from '../../App'\r\nimport M from 'materialize-css'\r\n\r\nconst Login = ()=>{\r\n    const {state,dispatch} = useContext(UserContext)\r\n    const history = useHistory()\r\n    const [password,setPassword] = useState(\"\")\r\n    const [email,setEmail] = useState(\"\")\r\n    const PostData = ()=>{\r\n        if(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)){\r\n            M.toast({html: \"Invalid Email\", classes:\"#c62828 red darken-3\"})\r\n            return\r\n        }\r\n\r\n        fetch(\"http://localhost:5000/login\", {\r\n            method:\"post\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\"\r\n            },\r\n            body:JSON.stringify({\r\n                password,\r\n                email\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(data=>{\r\n            if(data.error){\r\n                M.toast({html: data.error, classes:\"#c62828 red darken-3\"})\r\n            } else {\r\n                localStorage.setItem(\"jwt\",data.token)\r\n                localStorage.setItem(\"user\",JSON.stringify(data.user))\r\n\r\n                dispatch({type:\"USER\",payload:data.user})\r\n\r\n                M.toast({html:\"Sign in successfully\", classes:\"#43a047 green darken-1\"})\r\n                history.push('/')\r\n            }         \r\n        }).catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"mycard\">\r\n             <div className=\"card auth-card input-field\">\r\n                <h2>Instagram</h2>\r\n                        <input \r\n                    type=\"text\"\r\n                    placeholder=\"email\"\r\n                    value={email}\r\n                    onChange={(e)=>setEmail(e.target.value)}\r\n                    />\r\n\r\n                    <input \r\n                    type=\"password\"\r\n                    placeholder=\"password\"\r\n                    value={password}\r\n                    onChange={(e)=>setPassword(e.target.value)}\r\n                    />\r\n\r\n                <button className=\"btn waves-effect waves-light #64b5f6 blue lighten-2\"\r\n                onClick={()=>PostData()}\r\n                >Login\r\n                </button>\r\n\r\n                <h5>\r\n                <Link to=\"/signup\">Don't have an account?</Link>\r\n                </h5>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login","import React,{useEffect,useState,useContext} from 'react'\r\nimport {UserContext} from '../../App'\r\n\r\nconst Profile = ()=>{\r\n    const [myThumbnails,setThumbnails] = useState([])\r\n    const {state,dispatch} = useContext(UserContext)\r\n    const [image,setImage] = useState(\"\")\r\n    const [url,setUrl] = useState()\r\n\r\n    useEffect(()=>{\r\n        fetch('/mypost',{\r\n            headers:{\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            setThumbnails(result.mypost)\r\n        })\r\n    },[])\r\n\r\n    useEffect(()=>{\r\n        if(image){\r\n            const data = new FormData()\r\n            data.append(\"file\",image)\r\n            data.append(\"upload_preset\",\"insta-clone\")\r\n            data.append(\"cloud_name\",\"cyipprogram\")\r\n    \r\n            fetch(\"https://api.cloudinary.com/v1_1/cyipprogram/image/upload\",{\r\n                method:\"post\",\r\n                body:data\r\n                \r\n            })\r\n            .then(res=>res.json())\r\n            .then(data=>{\r\n                setUrl(data.url)\r\n                fetch('/updatepic', {\r\n                    method: \"put\",\r\n                    headers:{\r\n                        \"Content-Type\":\"application/json\",\r\n                        \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n                    },\r\n                    body:JSON.stringify({\r\n                        pic:data.url\r\n                    })\r\n                }).then(res=>res.json())\r\n                .then(result=>{\r\n                    console.log(result)\r\n                    localStorage.setItem(\"user\",JSON.stringify({...state,pic:data.pic}))\r\n                    dispatch({type:\"UPDATEPIC\",payload:result.pic})\r\n                })\r\n                })\r\n            .catch(err=>{\r\n                console.log(err)\r\n            })\r\n        }\r\n    },[image])\r\n\r\n    const updatePhoto=(file)=>{\r\n        setImage(file)\r\n    }\r\n\r\n    return (\r\n        <div className=\"wrapper\">\r\n            <div className=\"container\">\r\n                <div className=\"profilepicture\">\r\n                    <img src={state?state.pic:\"loading...\"}\r\n                    />\r\n                    <div className=\"btn #64b5f6 blue darken-1\">\r\n                        <span>Upload Photo</span>\r\n                        <input type=\"file\" onChange={(e)=>updatePhoto(e.target.files[0])} />\r\n                    </div>\r\n                </div>\r\n                \r\n                <div className=\"profileinfobox\">\r\n                    <h4>{state?state.name:\"loading\"}</h4>\r\n                    <div className=\"profilestats\">\r\n                        <h6>{myThumbnails.length} Posts</h6>\r\n                        <h6>{state?state.followers.length:\"0\"} Followers</h6>\r\n                        <h6>{state?state.following.length:\"0\"} Following</h6>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"gallery\">\r\n                {\r\n                    myThumbnails.map(item=>{\r\n                        return(\r\n                            <img key={item._id} className=\"item\" src={item.photo} alt={item.title}/>\r\n                        )\r\n                    })\r\n                }   \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile","import React,{useState,useEffect} from 'react'\r\nimport {Link,useHistory} from 'react-router-dom'\r\nimport M from 'materialize-css'\r\n\r\nconst Signup = ()=>{\r\n    const history = useHistory()\r\n    const [name,setName] = useState(\"\")\r\n    const [password,setPassword] = useState(\"\")\r\n    const [email,setEmail] = useState(\"\")\r\n    const [image,setImage] = useState(\"\")\r\n    const [url,setUrl] = useState(undefined)\r\n\r\n    useEffect(()=>{\r\n        if(url){\r\n            uploadFields()\r\n        }\r\n    },[url])\r\n\r\n    const uploadProfilePic = ()=>{\r\n            const data = new FormData()\r\n            data.append(\"file\",image)\r\n            data.append(\"upload_preset\",\"insta-clone\")\r\n            data.append(\"cloud_name\",\"cyipprogram\")\r\n    \r\n            fetch(\"https://api.cloudinary.com/v1_1/cyipprogram/image/upload\",{\r\n                method:\"post\",\r\n                body:data\r\n                \r\n            })\r\n            .then(res=>res.json())\r\n            .then(data=>{\r\n                setUrl(data.url)\r\n                })\r\n            .catch(err=>{\r\n                console.log(err)\r\n            })\r\n    }\r\n    \r\n    const uploadFields = ()=>{\r\n        if(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)){\r\n            M.toast({html: \"Invalid Email\", classes:\"#c62828 red darken-3\"})\r\n            return\r\n        }\r\n\r\n        fetch(\"http://localhost:5000/signup\", {\r\n            method:\"post\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\"\r\n            },\r\n            body:JSON.stringify({\r\n                name,\r\n                password,\r\n                email,\r\n                pic:url\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(data=>{\r\n            if(data.error){\r\n                M.toast({html: data.error, classes:\"#c62828 red darken-3\"})\r\n            } else {\r\n                M.toast({html:data.message, classes:\"#43a047 green darken-1\"})\r\n                history.push('/login')\r\n            }         \r\n        }).catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n    const PostData = ()=>{\r\n        if(image){\r\n            uploadProfilePic()\r\n        } else {\r\n            uploadFields()\r\n        }\r\n        \r\n    }\r\n\r\n    return (\r\n    <div className=\"mycard\">\r\n         <div className=\"card auth-card input-field\">\r\n            <h2>Instagram</h2>\r\n            <input \r\n            type=\"text\"\r\n            placeholder=\"name\"\r\n            value={name}\r\n            onChange={(e)=>setName(e.target.value)}\r\n            />\r\n            \r\n            <input \r\n            type=\"text\"\r\n            placeholder=\"email\"\r\n            value={email}\r\n            onChange={(e)=>setEmail(e.target.value)}\r\n            />\r\n\r\n            <input \r\n            type=\"password\"\r\n            placeholder=\"password\"\r\n            value={password}\r\n            onChange={(e)=>setPassword(e.target.value)}\r\n            />\r\n\r\n            <div className=\"file-field input-field\">\r\n                <div className=\"btn #64b5f6 blue darken-1\">\r\n                    <span>Upload pic</span>\r\n                    <input type=\"file\" onChange={(e)=>setImage(e.target.files[0])} />\r\n                </div>\r\n            <div className=\"file-path-wrapper\">\r\n                <input className=\"file-path validate\" type=\"text\" />\r\n            </div>\r\n            </div>\r\n            <button className=\"btn waves-effect waves-light #64b5f6 blue darken-1\"\r\n            onClick={()=>PostData()}\r\n            >\r\n                SignUP\r\n            </button>\r\n            <h5>\r\n                <Link to=\"/login\">Already have an account?</Link>\r\n            </h5>\r\n        </div>\r\n    </div>\r\n)\r\n}\r\n\r\nexport default Signup","import React,{useState,useEffect} from 'react'\r\nimport M from 'materialize-css'\r\nimport {useHistory} from 'react-router-dom'\r\n\r\nconst CreatePost = () =>{\r\n    const history = useHistory()\r\n    const[title,setTitle] = useState(\"\")\r\n    const[body,setBody] = useState(\"\")\r\n    const[image,setImage] = useState(\"\")\r\n    const[url,setUrl] = useState(\"\")\r\n    \r\n    useEffect(()=>{\r\n        if(url){\r\n            fetch(\"http://localhost:5000/createpost\", {\r\n            method:\"post\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                title,\r\n                body,\r\n                img:url\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(data=>{\r\n\r\n            if(data.error){\r\n                M.toast({html: data.error, classes:\"#c62828 red darken-3\"})\r\n            } else {\r\n                M.toast({html:\"Created post successfully\", classes:\"#43a047 green darken-1\"})\r\n                history.push('/')\r\n                    }         \r\n                    }).catch(err=>{\r\n                        console.log(err)\r\n                    })\r\n        }\r\n    },[url])\r\n\r\n    const postDetails = ()=>{\r\n        const data = new FormData()\r\n        data.append(\"file\",image)\r\n        data.append(\"upload_preset\",\"insta-clone\")\r\n        data.append(\"cloud_name\",\"cyipprogram\")\r\n\r\n        fetch(\"https://api.cloudinary.com/v1_1/cyipprogram/image/upload\",{\r\n            method:\"post\",\r\n            body:data\r\n            \r\n        })\r\n        .then(res=>res.json())\r\n        .then(data=>{\r\n            setUrl(data.url)\r\n        })\r\n        .catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    return(\r\n        <div className=\"card input-files\">\r\n            <input type=\"text\" placeholder=\"title\"\r\n            value={title}\r\n            onChange={(e)=>setTitle(e.target.value)}\r\n            />\r\n            <input type=\"text\" placeholder=\"body\"\r\n            value={body}\r\n            onChange={(e)=>setBody(e.target.value)}\r\n            />\r\n\r\n            <div className=\"file-field input-field\">\r\n                <div className=\"btn #64b5f6 blue darken-2\">\r\n                    <span>Upload Image</span>\r\n                    <input type=\"file\"\r\n                    onChange={(e)=>setImage(e.target.files[0])}\r\n                    />\r\n                </div>\r\n                <div className=\"file-path-wrapper\">\r\n                    <input className=\"file-path validate\" type=\"text\"/>\r\n                </div>\r\n            </div>\r\n            <button className=\"btn waves-effect waves-light #64b5f6 blue darken-2\"\r\n            onClick={()=>postDetails()}\r\n            >\r\n                Submit post\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CreatePost","export const initialState = null\r\n\r\nexport const reducer = (state,action)=>{\r\n    if(action.type===\"USER\"){\r\n        return action.payload\r\n    }\r\n    if(action.type===\"CLEAR\"){\r\n        return null\r\n    }\r\n    if(action.type===\"UPDATE\"){\r\n        return {\r\n            ...state,\r\n            followers:action.payload.followers,\r\n            following:action.payload.following\r\n        }\r\n    }\r\n    if(action.type===\"UPDATEPIC\"){\r\n        return{\r\n            ...state,\r\n            pic:action.payload\r\n        }\r\n    }\r\n    return state\r\n}","import React,{useEffect,useState,useContext} from 'react'\r\nimport {UserContext} from '../../App'\r\nimport {useParams} from 'react-router-dom'\r\n\r\nconst Profile = ()=>{\r\n    const [userProfile,setProfile] = useState(null)\r\n    const {state,dispatch} = useContext(UserContext)\r\n    const {userid} = useParams()\r\n\r\n    useEffect(()=>{\r\n        fetch(`/user/${userid}`,{\r\n            headers:{\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            // console.log(result)\r\n            setProfile(result)\r\n        })\r\n     },[])\r\n\r\n     const followUser = ()=>{\r\n        fetch('/follow',{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem('jwt')\r\n            },\r\n            body:JSON.stringify({\r\n                followId:userid\r\n            })\r\n            }).then(res=>res.json())\r\n            .then(data=>{\r\n                \r\n                dispatch({type:\"UPDATE\", payload:{following:data.following,followers:data.followers}})\r\n                localStorage.setItem(\"user\",JSON.stringify(data))\r\n                setProfile((prevState)=>{\r\n                    return {\r\n                        ...prevState,\r\n                        user:{\r\n                            ...prevState.user,\r\n                            followers:[...prevState.user.followers,data._id]\r\n                        }\r\n                    }\r\n                })\r\n            })\r\n     }\r\n     const unfollowUser = ()=>{\r\n        fetch('/unfollow',{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem('jwt')\r\n            },\r\n            body:JSON.stringify({\r\n                unfollowId:userid\r\n            })\r\n            }).then(res=>res.json())\r\n            .then(data=>{\r\n                \r\n                dispatch({type:\"UPDATE\", payload:{following:data.following,followers:data.followers}})\r\n                localStorage.setItem(\"user\",JSON.stringify(data))\r\n                setProfile((prevState)=>{\r\n                    const newFollower = prevState.user.followers.filter(item=>item != data._id)\r\n                    return {\r\n                        ...prevState,\r\n                        user:{\r\n                            ...prevState.user,\r\n                            followers:newFollower\r\n                        }\r\n                    }\r\n                })\r\n            })\r\n     }\r\n    return (\r\n        <>\r\n        {userProfile ? \r\n        \r\n        <div className=\"wrapper\">\r\n            <div className=\"container\">\r\n                <div className=\"profilepicture\">\r\n                    <img src={userProfile.user.pic}\r\n                    />\r\n                </div>\r\n                <div className=\"profileinfobox\">\r\n                    <h4>{userProfile.user.name}</h4>\r\n                    <div className=\"profilestats\">\r\n                        <h6>{userProfile.posts.length} Posts</h6>\r\n                        <h6>{userProfile.user.followers.length} Followers</h6>\r\n                        <h6>{userProfile.user.following.length} Following</h6>\r\n                    </div>\r\n\r\n                    {userProfile.user._id !== state._id\r\n                        ?\r\n                        <div>{userProfile.user.followers.includes(state._id)\r\n                            ?\r\n                        <button style={{margin:\"10px\"}} className=\"btn waves-effect waves-light #64b5f6 blue lighten-2\"\r\n                            onClick={()=>unfollowUser()}\r\n                            >Unfollow\r\n                        </button>\r\n                                        :\r\n                        <button style={{margin:\"10px\"}}  className=\"btn waves-effect waves-light #64b5f6 blue lighten-2\"\r\n                            onClick={()=>followUser()}\r\n                            >Follow\r\n                        </button>\r\n                        }\r\n                        </div>\r\n                        :\r\n                        <h1></h1>\r\n                    } \r\n                    \r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"gallery\">\r\n                {\r\n                    userProfile.posts.map(item=>{\r\n                        return(\r\n                            <img key={item._id} className=\"item\" src={item.photo} alt={item.title}/>\r\n                        )\r\n                    })\r\n                }   \r\n            </div>\r\n        </div>\r\n        \r\n        : <h2>Loading...!</h2>\r\n        }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Profile","import React, {useState,useEffect,useContext} from 'react'\r\nimport {UserContext} from '../../App'\r\nimport {Link} from 'react-router-dom'\r\n\r\nconst Home = ()=>{\r\n    const[data,setData] = useState([])\r\n    const {state,dispatch} = useContext(UserContext)\r\n    useEffect(()=>{\r\n        fetch('/getsubpost',{\r\n            headers:{\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            setData(result.posts)\r\n        })\r\n    },[])\r\n\r\n    const likePost = (id)=>{\r\n        fetch('/like',{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                postId:id\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            //console.log(result)\r\n            const newData = data.map(item=>{\r\n                if(item._id==result._id){\r\n                    return result\r\n                } else {\r\n                    return item\r\n                }\r\n            })\r\n            setData(newData)\r\n        }).catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    const unlikePost = (id)=>{\r\n        fetch('/unlike',{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                postId:id\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            // console.log(result)\r\n            const newData = data.map(item=>{\r\n                if(item._id==result._id){\r\n                    return result\r\n                } else {\r\n                    return item\r\n                }\r\n            })\r\n            setData(newData)\r\n        }).catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\nconst makeComment = (text,postId)=>{\r\n    fetch('/comment',{\r\n        method:\"put\",\r\n        headers:{\r\n            \"Content-Type\":\"application/json\",\r\n            \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n        },\r\n        body:JSON.stringify({\r\n            postId,\r\n            text\r\n        })\r\n    }).then(res=>res.json())\r\n    .then(result=>{\r\n        console.log(result)\r\n        const newData = data.map(item=>{\r\n            if(item._id==result._id){\r\n                return result\r\n            } else {\r\n                return item\r\n            }\r\n        })\r\n        setData(newData)\r\n    }).catch(err=>{\r\n        console.log(err)\r\n    })\r\n}\r\n\r\nconst deletePost = (postId)=>{\r\n    fetch(`/deletepost/${postId}`,{\r\n        method:\"delete\",\r\n        headers:{\r\n            \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n        }\r\n    }).then(res=>res.json())\r\n    .then(result=>{\r\n        console.log(result)\r\n        const newData = data.filter(item=>{\r\n            return item._id !== result._id\r\n        })\r\n        setData(newData)\r\n    })\r\n}\r\n\r\nconst deleteComment = (item, record)=>{\r\n    console.log(item.comments)\r\n    console.log(record)\r\n    // fetch('/deleteComment',{\r\n    //     method:\"put\",\r\n    //     headers:{\r\n    //         \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n    //     }\r\n    // }).then(res=>res.json(item,record))\r\n    // .then(result=>{\r\n    //     console.log(result)\r\n    //     const newData = data.filter(item=>{\r\n    //         return item._id !== result._id\r\n    //     })\r\n    //     setData(newData)\r\n    // })\r\n}\r\n\r\n    return (\r\n        <div className=\"home\">\r\n                {\r\n                    data.map(item=>{\r\n                            return(\r\n                                <div className=\"card home-card\" key={item._id}>\r\n                                    <h5><Link to={item.postedBy._id !== state._id?\"/profile/\"+item.postedBy._id :\"/profile/\"+state._id}>{item.postedBy.name}</Link> {item.postedBy._id == state._id \r\n                            && <i className=\"material-icons\" style={{\r\n                                float:\"right\"\r\n                            }}  \r\n                                    onClick={()=>deletePost(item._id)}\r\n                                    >delete</i>}\r\n                                    </h5>\r\n\r\n                                    <div className=\"card-image\">\r\n                                        <img src={item.photo}/>\r\n                                    </div>\r\n                                    <div className=\"card-content\">\r\n                                        {item.likes.includes(state._id)\r\n                                        ?\r\n                                            <i className=\"material-icons\" style={{color:\"red\"}} \r\n                                            onClick={()=>{unlikePost(item._id)}}\r\n                                            >favorite</i>\r\n                                        :\r\n                                            <i className=\"material-icons\" style={{color:\"black\"}}\r\n                                            onClick={()=>{likePost(item._id)}}\r\n                                            >favorite_border</i>\r\n                                        }\r\n                                        <h6>{item.likes.length} likes</h6>\r\n                                        <h6>{item.title}</h6>\r\n                                        <p>{item.body}</p>\r\n                                        {   //This is where the comment section goes\r\n                                            item.comments.map(record=>{\r\n                                                return(\r\n                                                    <h6 key={record._id}><span style={{fontWeight:\"500\"}}>{record.postedBy.name}</span> {record.text}\r\n                                                    {item.postedBy._id == record._id} <i className=\"material-icons\" style={{\r\n                                                    float:\"right\"\r\n                                                    }}\r\n                                                    onClick={()=>deleteComment(item, record)}\r\n                                                    >delete_forever</i>}</h6>\r\n                                                                )\r\n                                                            })\r\n                                        }\r\n                                        <form onSubmit={(e)=>{\r\n                                            e.preventDefault()\r\n                                            makeComment(e.target[0].value,item._id)\r\n                                        }}>\r\n                                            <input type=\"text\" placeholder=\"add a comment\"/>\r\n                                        </form>\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                    })\r\n                }\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home","import React, {useState,useEffect,useContext} from 'react'\r\nimport {UserContext} from '../../App'\r\nimport {Link} from 'react-router-dom'\r\n\r\nconst Home = ()=>{\r\n    const[data,setData] = useState([])\r\n    const {state,dispatch} = useContext(UserContext)\r\n    useEffect(()=>{\r\n        fetch('/explore',{\r\n            headers:{\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            setData(result.posts)\r\n        })\r\n    },[])\r\n\r\n    const likePost = (id)=>{\r\n        fetch('/like',{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                postId:id\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            //console.log(result)\r\n            const newData = data.map(item=>{\r\n                if(item._id==result._id){\r\n                    return result\r\n                } else {\r\n                    return item\r\n                }\r\n            })\r\n            setData(newData)\r\n        }).catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    const unlikePost = (id)=>{\r\n        fetch('/unlike',{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                postId:id\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            // console.log(result)\r\n            const newData = data.map(item=>{\r\n                if(item._id==result._id){\r\n                    return result\r\n                } else {\r\n                    return item\r\n                }\r\n            })\r\n            setData(newData)\r\n        }).catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\nconst makeComment = (text,postId)=>{\r\n    fetch('/comment',{\r\n        method:\"put\",\r\n        headers:{\r\n            \"Content-Type\":\"application/json\",\r\n            \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n        },\r\n        body:JSON.stringify({\r\n            postId,\r\n            text\r\n        })\r\n    }).then(res=>res.json())\r\n    .then(result=>{\r\n        console.log(result)\r\n        const newData = data.map(item=>{\r\n            if(item._id==result._id){\r\n                return result\r\n            } else {\r\n                return item\r\n            }\r\n        })\r\n        setData(newData)\r\n    }).catch(err=>{\r\n        console.log(err)\r\n    })\r\n}\r\n\r\nconst deletePost = (postId)=>{\r\n    fetch(`/deletepost/${postId}`,{\r\n        method:\"delete\",\r\n        headers:{\r\n            \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n        }\r\n    }).then(res=>res.json())\r\n    .then(result=>{\r\n        console.log(result)\r\n        const newData = data.filter(item=>{\r\n            return item._id !== result._id\r\n        })\r\n        setData(newData)\r\n    })\r\n}\r\n\r\nconst deleteComment = (item, record)=>{\r\n    console.log(item.comments)\r\n    console.log(record)\r\n    // fetch('/deleteComment',{\r\n    //     method:\"put\",\r\n    //     headers:{\r\n    //         \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n    //     }\r\n    // }).then(res=>res.json(item,record))\r\n    // .then(result=>{\r\n    //     console.log(result)\r\n    //     const newData = data.filter(item=>{\r\n    //         return item._id !== result._id\r\n    //     })\r\n    //     setData(newData)\r\n    // })\r\n}\r\n\r\n    return (\r\n        <div className=\"home\">\r\n                {\r\n                    data.map(item=>{\r\n                            return(\r\n                                <div className=\"card home-card\" key={item._id}>\r\n                                    <h5><Link to={item.postedBy._id !== state._id?\"/profile/\"+item.postedBy._id :\"/profile/\"+state._id}>{item.postedBy.name}</Link> {item.postedBy._id == state._id \r\n                            && <i className=\"material-icons\" style={{\r\n                                float:\"right\"\r\n                            }}  \r\n                                    onClick={()=>deletePost(item._id)}\r\n                                    >delete</i>}\r\n                                    </h5>\r\n\r\n                                    <div className=\"card-image\">\r\n                                        <img src={item.photo}/>\r\n                                    </div>\r\n                                    <div className=\"card-content\">\r\n                                        {item.likes.includes(state._id)\r\n                                        ?\r\n                                            <i className=\"material-icons\" style={{color:\"red\"}} \r\n                                            onClick={()=>{unlikePost(item._id)}}\r\n                                            >favorite</i>\r\n                                        :\r\n                                            <i className=\"material-icons\" style={{color:\"black\"}}\r\n                                            onClick={()=>{likePost(item._id)}}\r\n                                            >favorite_border</i>\r\n                                        }\r\n                                        <h6>{item.likes.length} likes</h6>\r\n                                        <h6>{item.title}</h6>\r\n                                        <p>{item.body}</p>\r\n                                        {   //This is where the comment section goes\r\n                                            item.comments.map(record=>{\r\n                                                return(\r\n                                                    <h6 key={record._id}><span style={{fontWeight:\"500\"}}>{record.postedBy.name}</span> {record.text}\r\n                                                    {item.postedBy._id == record._id} <i className=\"material-icons\" style={{\r\n                                                    float:\"right\"\r\n                                                    }}\r\n                                                    onClick={()=>deleteComment(item, record)}\r\n                                                    >delete_forever</i>}</h6>\r\n                                                                )\r\n                                                            })\r\n                                        }\r\n                                        <form onSubmit={(e)=>{\r\n                                            e.preventDefault()\r\n                                            makeComment(e.target[0].value,item._id)\r\n                                        }}>\r\n                                            <input type=\"text\" placeholder=\"add a comment\"/>\r\n                                        </form>\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                    })\r\n                }\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home","import React, {useEffect,createContext,useReducer, useContext} from 'react'\nimport NavBar from './components/navbar'\nimport \"./App.css\"\nimport {BrowserRouter,Route,Switch,useHistory} from 'react-router-dom'\nimport Home from './components/screens/home'\nimport Login from './components/screens/login'\nimport Profile from './components/screens/profile'\nimport Signup from './components/screens/signup'\nimport CreatePost from './components/screens/createpost'\nimport {reducer,initialState} from './reducers/userReducer'\nimport UserProfile from './components/screens/UserProfile'\nimport SubscribedUserPosts from './components/screens/subscribedUserPosts'\nimport AllPosts from './components/screens/explore'\n\nexport const UserContext = createContext()\n\nconst Routing = () =>{\n  const history = useHistory()\n  const {state,dispatch} = useContext(UserContext)\n  useEffect(()=>{\n    const user = JSON.parse(localStorage.getItem(\"user\"))\n\n    if(user){\n      dispatch({type:\"USER\",payload:user})\n    } else {\n      history.push('/login')\n    }\n  },[])\n  return(\n    <switch>\n    <Route exact path=\"/\"><Home /></Route>\n    <Route path=\"/login\"><Login /></Route>\n    <Route exact path=\"/profile\"><Profile /></Route>\n    <Route path=\"/signup\"><Signup /></Route>\n    <Route path=\"/createpost\"><CreatePost /></Route>\n    <Route path=\"/profile/:userid\"><UserProfile /></Route>\n    <Route path=\"/feed\"><SubscribedUserPosts /></Route>\n    <Route path=\"/explore\"><AllPosts /></Route>\n    \n    </switch>\n  )\n}\n\nfunction App() {\n  const [state,dispatch] = useReducer(reducer,initialState)\n  return (\n    <UserContext.Provider value={{state,dispatch}}>\n    <BrowserRouter>\n    <NavBar />\n    <Routing />\n\n    </BrowserRouter>\n    </UserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}